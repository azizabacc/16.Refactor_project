(()=>{"use strict";const e="0ecda526c9c0b753226bce63f940887d",t=(e,t)=>{const n=document.createElement("div");return n.classList.add(e),t.appendChild(n),n},n=(e,t,n)=>{const o=document.createElement(e);o.innerHTML=t,n.appendChild(o)},o=(e,t,n)=>{const o=document.createElement("span");o.classList.add(e),o.innerHTML=t,n.appendChild(o)},r=document.querySelector(".container"),c=(e,c,a,s,i,l)=>{const d=t("card",r);((e,t)=>{const n=document.createElement("img");n.src="http://openweathermap.org/img/wn/"+e+"@2x.png",t.appendChild(n)})(c,t("imgBx",d));const p=t("contentBx",d);n("h2",e,p),n("h4",a,p);const h=t("color",p);n("h3","Temp:",h),o("current-temp",s+"°C",h);const m=t("details",p);n("h3","More:",m),o("min-temp",i+"°C",m),o("max-temp",l+"°C",m)},a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=e=>{const t=new Date;return a[(t.getDay()+e)%7]},i=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},l=e=>new Date(1e3*e).toLocaleDateString("en-US",{month:"long",weekday:"long",year:"numeric",day:"numeric"}),d=e=>{let t=0,n=0;for(let n=0;n<e.length;n++)t+=e[n];return n=(t/e.length).toFixed(1),n},p=document.querySelector(".container"),h=document.querySelector(".city-name");document.querySelector("#searchBar").addEventListener("keyup",(t=>{if("Enter"===t.key){const n=t.target.value.toLowerCase();t.currentTarget.value="",(t=>{fetch("https://api.openweathermap.org/data/2.5/forecast/?q="+t+"&appid="+e).then((e=>e.json())).then((t=>{const n=t.city.coord.lon,o=t.city.coord.lat;h.innerHTML=t.city.name,((t,n)=>{fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${t}&lon=${n}&units=metric&exclude=minutely,hourly,alerts&appid=${e}`).then((e=>e.json())).then((e=>{console.log("Welcome to this basic weather app. this is not a product but the product of an academic exercise."),i(p);const t=((e,t)=>{let n=[],o=[];for(let t=0;t<e.length-1;t++)l(e[t].dt).slice(0,2)!=l(e[t+1].dt).slice(0,2)?(n.push(e[t].main.temp),o.push(d(n)),n=[]):n.push(e[t].main.temp);return o})(e.list),n=(e=>{let t=[],n=[];for(let o=0;o<e.length-1;o++)l(e[o].dt).slice(0,2)!=l(e[o+1].dt).slice(0,2)?(t.push(e[o].main.temp_max),n.push(d(t)),t=[]):t.push(e[o].main.temp_max);return n})(e.list),o=(e=>{let t=[],n=[];for(let o=0;o<e.length-1;o++)l(e[o].dt).slice(0,2)!=l(e[o+1].dt).slice(0,2)?(t.push(e[o].main.temp_min),n.push(d(t)),t=[]):t.push(e[o].main.temp_min);return n})(e.list),r=(e=>{let t=[],n=[];for(let o=0;o<e.length;o+=8)t.push(e[o].weather[0].icon),n.push(e[o].weather[0].description);return console.log(n),{iconArray:t,weatherDescription:n}})(e.list);console.log(e),console.log("temp"+t),console.log("max"+n),console.log("min"+o),console.log("icons"+r.iconArray),console.log("icons"+r.weatherDescription);for(let e=0;e<5;e++)c(s(e),r.iconArray[e],r.weatherDescription[e],t[e],n[e],o[e])}))})(o,n)})).catch((e=>(console.error("Error:","not a place!"),i(p),alert("Are you sure you aren't holding your map upside down?"))))})(n)}}))})();